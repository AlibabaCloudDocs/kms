# Overview of symmetric encryption

This topic describes symmetric encryption, which is the most commonly used data encryption method. KMS provides easy-to-use API operations that allow you to encrypt and decrypt data on the cloud.

If you do not specify the KeySpec parameter when you create a customer master key \(CMK\) in KMS, the CMK is a symmetric key. Alibaba Cloud supports popular symmetric key algorithms and provides a high level of data security with strong encryption.

## Classification of symmetric keys

KMS supports the following two types of symmetric keys:

-   AES

    KMS supports 256-bit AES keys. If AES is used, set the KeySpec parameter to Aliyun\_AES\_256. The Encrypt API operation uses Galois/Counter Mode \(GCM\) for encryption. AES symmetric keys are supported at both Software and HSM protection levels.

-   SM4

    KMS supports the commercial symmetric algorithm SM4 stipulated in China National Standards. If SM4 is used, set the KeySpec parameter to Aliyun\_SM4. The Encrypt API operation uses GCM for encryption. KMS provides the SM4 algorithm by using Managed HSM. For more information, see [Overview](/intl.en-US/User Guide/Managed HSM/Overview.md).


## Encryption and decryption features

When you call API operations to encrypt data or data keys, you only need to specify a CMK ID or alias. KMS uses the specified CMK for encryption and returns ciphertext. When you call the [Decrypt](/intl.en-US/API Reference/Key/Decrypt.md) API operation, you only need to specify the ciphertext that you want to decrypt. You do not need to specify a CMK. You can call the Decrypt operation to decrypt only the ciphertext that is generated by calling the [Encrypt](/intl.en-US/API Reference/Key/Encrypt.md), [GenerateDataKey](/intl.en-US/API Reference/Key/GenerateDataKey.md), or [GenerateDataKeyWithoutPlaintext](/intl.en-US/API Reference/Key/GenerateDataKeyWithoutPlaintext.md) operation.

## AAD

Symmetric keys of KMS use GCM for block ciphers. You can use additional authenticated data \(AAD\) to provide supplemental protection for the integrity of encrypted data. KMS encapsulates AAD to enable you to easily customize authentication data. For more information, see [EncryptionContext](/intl.en-US/User Guide/Use symmetric keys/EncryptionContext.md).

## Envelope encryption

You can call the [GenerateDataKey](/intl.en-US/API Reference/Key/GenerateDataKey.md) and [GenerateDataKeyWithoutPlaintext](/intl.en-US/API Reference/Key/GenerateDataKeyWithoutPlaintext.md) API operations in KMS to generate a two-level key hierarchy to accelerate envelope encryption. For more information about envelope encryption, see the following topics:

-   [What is envelope encryption?](/intl.en-US/FAQ/What is envelope encryption?.md)
-   [Use envelope encryption to encrypt and decrypt local data](/intl.en-US/Best Practices/Use envelope encryption to encrypt and decrypt local data.md)

## Rotation of symmetric keys

Each symmetric CMK in KMS supports multiple key versions. KMS rotates CMKs automatically by generating new key versions. You can customize the key rotation policy.

If a CMK has multiple versions, the latest version of the CMK is used to encrypt data or data keys in the Encrypt, GenerateDataKey, and GenerateDataKeyWithoutPlaintext operations. When you call the Decrypt operation, you do not need to specify a CMK ID or key version ID. KMS automatically identifies the CMK and its key version with which the corresponding data or data key is encrypted. Then, KMS uses the key material of the identified key version to decrypt the ciphertext.

KMS rotates a CMK by generating a new version of the CMK. After a CMK is rotated, KMS automatically uses the new key version to encrypt data or data keys. However, the earlier key version is still available for decrypting the ciphertext that is encrypted before the rotation. For more information, see [Configure automatic key rotation](/intl.en-US/User Guide/Key rotation/Configure automatic key rotation.md).

## BYOK

KMS allows you to encrypt your data on the cloud by using the Bring Your Own Key \(BYOK\) feature. This feature helps you meet stringent security and compliance requirements. We recommend that you use Managed HSM to protect your keys. You can import your key material into a CMK whose protection level is HSM. Keys in a managed HSM can only be destroyed, and their plaintext cannot be exported. For more information, see [Import key material](/intl.en-US/User Guide/Use symmetric keys/Import key material.md).

